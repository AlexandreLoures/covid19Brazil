pkgs = installed.packages ()
if (!('tidyverse' %in% pkgs)) install.packages ('tidyverse')
if (!('magrittr' %in% pkgs)) install.packages ('magrittr')
if (!('geobr' %in% pkgs)) install.packages ('geobr')
library (tidyverse)
library (magrittr)
library (geobr)
setwd ('D:/OneDrive/academic/PackagesR/covid19Brazil/HIST_PAINEL_COVIDBR_15jun2022')
covid1.2020 <- read_csv2 ('HIST_PAINEL_COVIDBR_2020_Parte1_15jun2022.csv'
, col_types = cols_only (regiao = col_character ()
, estado = col_character ()
, municipio = col_character ()
, coduf = col_integer ()
, codmun = col_integer ()
, data = col_date ()
, semanaEpi = col_integer ()
, populacaoTCU2019 = col_integer ()
, casosAcumulado = col_integer ()
, casosNovos = col_integer ()
, obitosAcumulado = col_integer ()
, obitosNovos = col_integer ()
, Recuperadosnovos = col_integer ()
, emAcompanhamentoNovos = col_integer()
)
)
covid2.2020 <- read_csv2 ('HIST_PAINEL_COVIDBR_2020_Parte2_15jun2022.csv'
, col_types = cols_only (regiao = col_character ()
, estado = col_character ()
, municipio = col_character ()
, coduf = col_integer ()
, codmun = col_integer ()
, data = col_date ()
, semanaEpi = col_integer ()
, populacaoTCU2019 = col_integer ()
, casosAcumulado = col_integer ()
, casosNovos = col_integer ()
, obitosAcumulado = col_integer ()
, obitosNovos = col_integer ()
, Recuperadosnovos = col_integer ()
, emAcompanhamentoNovos = col_integer()
)
)
covid1.2021 <- read_csv2 ('HIST_PAINEL_COVIDBR_2021_Parte1_15jun2022.csv'
, col_types = cols_only (regiao = col_character ()
, estado = col_character ()
, municipio = col_character ()
, coduf = col_integer ()
, codmun = col_integer ()
, data = col_date ()
, semanaEpi = col_integer ()
, populacaoTCU2019 = col_integer ()
, casosAcumulado = col_integer ()
, casosNovos = col_integer ()
, obitosAcumulado = col_integer ()
, obitosNovos = col_integer ()
, Recuperadosnovos = col_integer ()
, emAcompanhamentoNovos = col_integer()
)
)
covid2.2021 <- read_csv2 ('HIST_PAINEL_COVIDBR_2021_Parte2_15jun2022.csv'
, col_types = cols_only (regiao = col_character ()
, estado = col_character ()
, municipio = col_character ()
, coduf = col_integer ()
, codmun = col_integer ()
, data = col_date ()
, semanaEpi = col_integer ()
, populacaoTCU2019 = col_integer ()
, casosAcumulado = col_integer ()
, casosNovos = col_integer ()
, obitosAcumulado = col_integer ()
, obitosNovos = col_integer ()
, Recuperadosnovos = col_integer ()
, emAcompanhamentoNovos = col_integer()
)
)
covid1.2022 <- read_csv2 ('HIST_PAINEL_COVIDBR_2022_Parte1_15jun2022.csv'
, col_types = cols_only (regiao = col_character ()
, estado = col_character ()
, municipio = col_character ()
, coduf = col_integer ()
, codmun = col_integer ()
, data = col_date ()
, semanaEpi = col_integer ()
, populacaoTCU2019 = col_integer ()
, casosAcumulado = col_integer ()
, casosNovos = col_integer ()
, obitosAcumulado = col_integer ()
, obitosNovos = col_integer ()
, Recuperadosnovos = col_integer ()
, emAcompanhamentoNovos = col_integer()
)
)
covid2019 <- rbind (covid1.2020, covid2.2020
, covid1.2021, covid2.2021
, covid1.2022
)
rm (covid1.2020, covid2.2020
, covid1.2021, covid2.2021
, covid1.2022
); gc ()
covid2019 %<>% rename (region = regiao
, state = estado
, municipality = municipio
, date = data
, epidWeek = semanaEpi
, population = populacaoTCU2019
, accumCases = casosAcumulado
, newCases = casosNovos
, accumDeaths = obitosAcumulado
, newDeaths = obitosNovos
, newRecov = Recuperadosnovos
, followUp = emAcompanhamentoNovos
); gc ()
brazil_total <- covid2019 %>% subset (region == 'Brasil'); gc ()
brazil_total %<>% select (-c (state, municipality, coduf, codmun)
); gc ()
setwd ('D:/OneDrive/academic/PackagesR/covid19Brazil/covid19Brazil/data')
save (brazil_total, file = 'brazil_total.rda')
setwd ('D:/OneDrive/academic/PackagesR/covid19Brazil/covid19Brazil/csv')
write_csv (brazil_total, 'brazil_total.csv')
rm (brazil_total); gc ()
covid2019 %<>% mutate (codmun = ifelse (!is.na (codmun), codmun, 0
)
)
brazil_state <- covid2019 %>% subset (state != 'NA' &
codmun == 0
); gc ()
brazil_state %<>% select (-c (municipality, codmun)
); gc ()
setwd ('D:/OneDrive/academic/PackagesR/covid19Brazil/covid19Brazil/data')
save (brazil_state, file = 'brazil_state.rda')
setwd ('D:/OneDrive/academic/PackagesR/covid19Brazil/covid19Brazil/csv')
write_csv (brazil_state, 'brazil_state.csv')
brazil_municipality <- covid2019 %>% subset (municipality != 'NA'
); gc ()
setwd ('D:/OneDrive/academic/PackagesR/covid19Brazil/covid19Brazil/data')
save (brazil_municipality, file = 'brazil_municipality.rda')
setwd ('D:/OneDrive/academic/PackagesR/covid19Brazil/covid19Brazil/csv')
write_csv (brazil_municipality, 'brazil_municipality.csv')
rm (brazil_municipality); gc ()
brazil_region <- brazil_state %>% group_by (region, date) %>%
summarise (epidWeek
, population = sum (population)
, accumCases = sum (accumCases)
, newCases = sum (newCases)
, accumDeaths = sum (accumDeaths)
, newDeaths = sum (newDeaths)
, newRecov = sum (newRecov)
, followUp = sum (followUp)
)
setwd ('D:/OneDrive/academic/PackagesR/covid19Brazil/covid19Brazil/data')
save (brazil_region, file = 'brazil_region.rda')
setwd ('D:/OneDrive/academic/PackagesR/covid19Brazil/covid19Brazil/csv')
write_csv (brazil_region, 'brazil_region.csv')
rm (brazil_state, brazil_region); gc ()
library(covid19brazil)
head (brazil_region)
head (brazil_municipality)
head (brazil_region)
head (brazil_state)
head (brazil_total)
total_git <- as_tibble (readr::read_csv ('https://media.githubusercontent.com/media/alexandreloures/covid19Brazil/main/csv/brazil_total.csv',
locale = readr::locale(encoding = "ASCII")))
total_git
total_gitA <- as.data.frame (readr::read_csv ('https://media.githubusercontent.com/media/alexandreloures/covid19Brazil/main/csv/brazil_total.csv',
locale = readr::locale(encoding = "ASCII")))
total_gitA
library(covid19brazil)
data ("brazil_total")
brazil_total
brazil_municipality
rm (list = ls ()); gc ()
brazil_municipality
brazil_region
brazil_state
brazil_total
municipality <- brazil_municipality
brazil <- brazil_total
View(brazil)
rm (list = ls ()); gc ()
library(covid19brazil)
brazil_municipality
data ("brazil_municipality")
head (brazil_municipality)
data ('brazil_region')
head (brazil_municipality)
head (brazil_region)
head (brazil_state)
head (brazil_total)
summary (brazil_region$newRecov)
summary (brazil_region$followUp)
summary (brazil_state$newRecov)
summary (brazil_state$followUp)
data ("brazil_state")
View(brazil_region)
force(brazil_state)
head (brazil_region)
head (brazil_state)
library(covid19brazil)
head (brazil_municipality)
head (brazil_region)
head (brazil_state)
head (brazil_total)
data ("brazil_municipality")
data ("brazil_region")
data ("brazil_state")
data ("brazil_total")
brazil_municipality
head (brazil_municipality)
summary (brazil_municipality$newRecov)
summary (brazil_municipality$followUp)
head (brazil_region)
summary (brazil_region$newRecov)
summary (brazil_region$followUp)
head (brazil_state)
summary (brazil_state$newRecov)
summary (brazil_state$followUp)
head (brazil_total)
summary (brazil_total$newRecov)
summary (brazil_total$followUp)
fail (brazil_total)
tail (brazil_total)
rm (list = ls ()); gc ()
pkgs = installed.packages ()
if (!('tidyverse' %in% pkgs)) install.packages ('tidyverse')
if (!('magrittr' %in% pkgs)) install.packages ('magrittr')
if (!('geobr' %in% pkgs)) install.packages ('geobr')
library (tidyverse)
library (magrittr)
library (geobr)
setwd ('D:/OneDrive/academic/PackagesR/covid19Brazil/HIST_PAINEL_COVIDBR_15jun2022')
covid1.2020 <- read_csv2 ('HIST_PAINEL_COVIDBR_2020_Parte1_15jun2022.csv'
, col_types = cols_only (regiao = col_character ()
, estado = col_character ()
, municipio = col_character ()
, coduf = col_integer ()
, codmun = col_integer ()
, data = col_date ()
, semanaEpi = col_integer ()
, populacaoTCU2019 = col_integer ()
, casosAcumulado = col_integer ()
, casosNovos = col_integer ()
, obitosAcumulado = col_integer ()
, obitosNovos = col_integer ()
, Recuperadosnovos = col_integer ()
, emAcompanhamentoNovos = col_integer()
)
)
covid2.2020 <- read_csv2 ('HIST_PAINEL_COVIDBR_2020_Parte2_15jun2022.csv'
, col_types = cols_only (regiao = col_character ()
, estado = col_character ()
, municipio = col_character ()
, coduf = col_integer ()
, codmun = col_integer ()
, data = col_date ()
, semanaEpi = col_integer ()
, populacaoTCU2019 = col_integer ()
, casosAcumulado = col_integer ()
, casosNovos = col_integer ()
, obitosAcumulado = col_integer ()
, obitosNovos = col_integer ()
, Recuperadosnovos = col_integer ()
, emAcompanhamentoNovos = col_integer()
)
)
covid1.2021 <- read_csv2 ('HIST_PAINEL_COVIDBR_2021_Parte1_15jun2022.csv'
, col_types = cols_only (regiao = col_character ()
, estado = col_character ()
, municipio = col_character ()
, coduf = col_integer ()
, codmun = col_integer ()
, data = col_date ()
, semanaEpi = col_integer ()
, populacaoTCU2019 = col_integer ()
, casosAcumulado = col_integer ()
, casosNovos = col_integer ()
, obitosAcumulado = col_integer ()
, obitosNovos = col_integer ()
, Recuperadosnovos = col_integer ()
, emAcompanhamentoNovos = col_integer()
)
)
covid2.2021 <- read_csv2 ('HIST_PAINEL_COVIDBR_2021_Parte2_15jun2022.csv'
, col_types = cols_only (regiao = col_character ()
, estado = col_character ()
, municipio = col_character ()
, coduf = col_integer ()
, codmun = col_integer ()
, data = col_date ()
, semanaEpi = col_integer ()
, populacaoTCU2019 = col_integer ()
, casosAcumulado = col_integer ()
, casosNovos = col_integer ()
, obitosAcumulado = col_integer ()
, obitosNovos = col_integer ()
, Recuperadosnovos = col_integer ()
, emAcompanhamentoNovos = col_integer()
)
)
covid1.2022 <- read_csv2 ('HIST_PAINEL_COVIDBR_2022_Parte1_15jun2022.csv'
, col_types = cols_only (regiao = col_character ()
, estado = col_character ()
, municipio = col_character ()
, coduf = col_integer ()
, codmun = col_integer ()
, data = col_date ()
, semanaEpi = col_integer ()
, populacaoTCU2019 = col_integer ()
, casosAcumulado = col_integer ()
, casosNovos = col_integer ()
, obitosAcumulado = col_integer ()
, obitosNovos = col_integer ()
, Recuperadosnovos = col_integer ()
, emAcompanhamentoNovos = col_integer()
)
)
covid2019 <- rbind (covid1.2020, covid2.2020
, covid1.2021, covid2.2021
, covid1.2022
)
rm (covid1.2020, covid2.2020
, covid1.2021, covid2.2021
, covid1.2022
); gc ()
covid2019 %<>% rename (region = regiao
, state = estado
, municipality = municipio
, date = data
, epidWeek = semanaEpi
, population = populacaoTCU2019
, accumCases = casosAcumulado
, newCases = casosNovos
, accumDeaths = obitosAcumulado
, newDeaths = obitosNovos
, newRecov = Recuperadosnovos
, followUp = emAcompanhamentoNovos
); gc ()
brazil_total <- covid2019 %>% subset (region == 'Brasil'); gc ()
brazil_total %<>% select (-c (state, municipality, coduf, codmun)
); gc ()
setwd ('D:/OneDrive/academic/PackagesR/covid19Brazil/covid19Brazil/data')
save (brazil_total, file = 'brazil_total.rda', compress = 'xz')
setwd ('D:/OneDrive/academic/PackagesR/covid19Brazil/covid19Brazil/csv')
write_csv (brazil_total, 'brazil_total.csv')
rm (brazil_total); gc ()
covid2019 %<>% mutate (codmun = ifelse (!is.na (codmun), codmun, 0
)
)
brazil_state <- covid2019 %>% subset (state != 'NA' &
codmun == 0
); gc ()
brazil_state %<>% select (-c (municipality, codmun
, newRecov, followUp
)
); gc ()
setwd ('D:/OneDrive/academic/PackagesR/covid19Brazil/covid19Brazil/data')
save (brazil_state, file = 'brazil_state.rda', compress = 'xz')
setwd ('D:/OneDrive/academic/PackagesR/covid19Brazil/covid19Brazil/csv')
write_csv (brazil_state, 'brazil_state.csv')
brazil_municipality <- covid2019 %>% subset (municipality != 'NA'
); gc ()
brazil_municipality %<>% select (-c (newRecov, followUp
)
); gc ()
setwd ('D:/OneDrive/academic/PackagesR/covid19Brazil/covid19Brazil/data')
save (brazil_municipality, file = 'brazil_municipality.rda'
, compress = 'xz')
setwd ('D:/OneDrive/academic/PackagesR/covid19Brazil/covid19Brazil/csv')
write_csv (brazil_municipality, 'brazil_municipality.csv')
rm (brazil_municipality); gc ()
brazil_region <- brazil_state %>% group_by (region, date) %>%
summarise (epidWeek
, population = sum (population)
, accumCases = sum (accumCases)
, newCases = sum (newCases)
, accumDeaths = sum (accumDeaths)
, newDeaths = sum (newDeaths)
)
brazil_region %<>% group_by (date) %>% distinct (region, .keep_all = TRUE)
setwd ('D:/OneDrive/academic/PackagesR/covid19Brazil/covid19Brazil/data')
save (brazil_region, file = 'brazil_region.rda'
, compress = 'xz')
setwd ('D:/OneDrive/academic/PackagesR/covid19Brazil/covid19Brazil/csv')
write_csv (brazil_region, 'brazil_region.csv')
rm (brazil_state, brazil_region); gc ()
setwd ('D:/OneDrive/academic/PackagesR/covid19Brazil/covid19Brazil/data')
load (brazil_region)
load ('brazil_region')
load ('brazil_region.rda')
load ('D:/OneDrive/academic/PackagesR/covid19Brazil/covid19Brazil/data/brazil_state.rda')
rm (list = ls ())
gc ()
library(covid19brazil)
head (brazil_region)
data (brazil_region)
tail (brazil_region)
View(brazil_region)
as_tibble (load ('D:/OneDrive/academic/PackagesR/covid19Brazil/covid19Brazil/data/brazil_region.rda'))
library (tidyverse)
as_tibble (load ('D:/OneDrive/academic/PackagesR/covid19Brazil/covid19Brazil/data/brazil_region.rda'))
rm (list = ls ())
gc ()
as_tibble (load ('D:/OneDrive/academic/PackagesR/covid19Brazil/covid19Brazil/data/brazil_region.rda'))
brazil_region
View(brazil_region)
as_tibble (load ('D:/OneDrive/academic/PackagesR/covid19Brazil/covid19Brazil/data/brazil_total.rda'))
brazil_total
library(covid19brazil)
rm (list = ls ()); gc ()
library(covid19brazil)
data ("brazil_total")
head (brazil_municipality)
head (brazil_region)
head (brazil_state)
head (brazil_total)
View(brazil_total)
is.data.frame (brazil_total)
rm (list = ls ())
gc ()
library(covid19brazil)
ls ()
data ("brazil_total")
dim (brazil_total)
head (brazil_total)
tail (brazil_total)
rm (list = ls ()); gc ()
library(covid19brazil)
data ("brazil_municipality")
head (brazil_municipality)
tail (brazil_municipality)
library(covid19brazil)
data ("brazil_total")
head (brazil_municipality)
head (brazil_region)
head (brazil_state)
head (brazil_total)
tail (brazil_total)
tail (brazil_region)
head (brazil_region)
library(covid19brazil)
data ("brazil_total")
head (brazil_total)
View(brazil_total)
library(covid19brazil)
brazil_total
data ("brazil_total")
head (brazil_total)
is.data.frame (brazil_total)
is.tibble (brazil_total)
brazil_total
library(covid19brazil)
head (brazil_total)
data ("brazil_total")
brazil_total
brazil_total
head (brazil_total)
head (brazil_region)
data ("brazil_region")
head (brazil_region)
brazil_region
library(covid19brazil)
data ("brazil_total")
head (brazil_total)
brazil_total
data (brazil_region)
View(brazil_total)
head (brazil_region)
brazil_region
brazil_total
head (brazil_total)
head (brazil_municipality)
head (brazil_state)
brazil_municipality
brazil_state
View(brazil_region)
View(brazil_total)
library(covid19brazil)
data ("brazil_municipality")
head (brazil_municipality)
brazil_municipality
head (brazil_municipality)
data (brazil_total)
head (brazil_municipality)
head (brazil_total)
brazil_total
head (brazil_region)
head (brazil_state)
brazil_total
head (brazil_total)
View(brazil_total)
head (brazil_total)
brazil_total
head (brazil_total)
head (brazil_region)
brazil_region
brazil_state
brazil_total
brazil_municipality
brazil_region
brazil_state
teste <- load ('D:/OneDrive/academic/PackagesR/covid19Brazil/covid19Brazil/data')
rm (list = ls ()); gc ()
teste <- load ('D:/OneDrive/academic/PackagesR/covid19Brazil/covid19Brazil/data/brazil_total.rda')
rm (teste); gc ()
head (brazil_total)
library(covid19brazil)
data ("brazil_total")
head (brazil_total)
head (brazil_total)
head (brazil_total)
head (brazil_region)
